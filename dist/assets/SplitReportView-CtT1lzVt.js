import{d as V,u as W,a as S,r as A,c as I,b as n,e,w as o,f as s,k as h,B as f,h as y,n as O,o as U,_ as $}from"./index-B3v5CdMq.js";import{A as G}from"./ArrowBackOutline-gUNFjqI0.js";const j={class:"split-report-page"},E={class:"search-item"},q={class:"search-item"},H={class:"search-buttons"},J={class:"table-actions"},K=V({__name:"SplitReportView",setup(Q){const d=W(),i=S({statisticsTime:null,agentAccount:""}),u=A(!1),M=A([]),l=S({page:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,30,50],onChange:a=>{l.page=a,m()},onUpdatePageSize:a=>{l.pageSize=a,l.page=1,m()}}),B=[{title:"代理帳號/名稱",key:"agentAccountName",width:120},{title:"總投注量",key:"totalBet",width:100},{title:"總注單量",key:"totalOrders",width:100},{title:"總輸贏",key:"totalWinLoss",width:100},{title:"使用者反水",key:"userRebate",width:100},{title:"紅利反水",key:"bonusRebate",width:100},{title:"活動贈點",key:"activityGift",width:100},{title:"金流費用",key:"cashFlowFee",width:100},{title:"代理自辦",key:"agentSelf",width:100},{title:"總儲值",key:"totalDeposit",width:100},{title:"手動扣點",key:"manualDeduct",width:100},{title:"彩球",key:"lottery",width:80},{title:"本級輸贏",key:"currentLevelWinLoss",width:100},{title:"本級佔成成數",key:"currentLevelPercentage",width:120},{title:"本級佔成所得",key:"currentLevelIncome",width:120},{title:"夾水",key:"water",width:80},{title:"明細",key:"detail",width:80,render(a){const t=a;return O(f,{size:"small",secondary:!0,onClick:()=>z(t)},{default:()=>"查看"})}}],T=()=>{d.info("返回上一層")},m=()=>{u.value=!0,setTimeout(()=>{M.value=Array.from({length:20}).map((a,t)=>{const g=Math.floor(Math.random()*1e6),r=Math.floor(Math.random()*500),_=Math.floor(Math.random()*1e5-5e4),v=Math.floor(Math.random()*5e3),p=Math.floor(Math.random()*3e3),w=Math.floor(Math.random()*2e3),k=Math.floor(Math.random()*1e3),c=Math.floor(Math.random()*5e4),F=Math.floor(Math.random()*2e3),P=Math.floor(Math.random()*1e3),L=Math.floor(Math.random()*2e4-1e4),C=(Math.random()*30+10).toFixed(2),R=Math.floor(L*parseFloat(C)/100),x=Math.floor(Math.random()*2e3);return{id:t+1,agentAccountName:`agent_${1e3+t} / 代理${t}`,totalBet:g,totalOrders:r,totalWinLoss:_,userRebate:v,bonusRebate:p,activityGift:w,cashFlowFee:k,agentSelf:Math.random()>.5?"是":"否",totalDeposit:c,manualDeduct:F,lottery:P,currentLevelWinLoss:L,currentLevelPercentage:C+"%",currentLevelIncome:R,water:x}}),l.itemCount=120,u.value=!1},500)},z=a=>{d.info(`查看 ${a.agentAccountName} 的詳細資料`)},D=a=>a.totalWinLoss<0?"negative-row":"";m();const b=()=>{u.value=!0,l.page=1,setTimeout(()=>{d.success("搜尋成功"),m()},300)},N=()=>{Object.assign(i,{statisticsTime:null,agentAccount:""}),d.info("已清除搜尋條件"),b()};return(a,t)=>{const g=s("n-date-picker"),r=s("n-grid-item"),_=s("n-input"),v=s("n-grid"),p=s("n-card"),w=s("n-icon"),k=s("n-data-table");return U(),I("div",j,[t[7]||(t[7]=n("div",{class:"page-header"},[n("h1",null,"拆帳報表"),n("div",{class:"page-tools"},[n("div",{class:"page-breadcrumb"},"報表管理>拆帳報表")])],-1)),e(p,{class:"search-area"},{default:o(()=>[e(v,{cols:24,"x-gap":12,"y-gap":16},{default:o(()=>[e(r,{span:8},{default:o(()=>[n("div",E,[t[2]||(t[2]=n("div",{class:"label"},"統計時間",-1)),e(g,{value:i.statisticsTime,"onUpdate:value":t[0]||(t[0]=c=>i.statisticsTime=c),type:"daterange",clearable:"",style:{width:"100%"}},null,8,["value"])])]),_:1}),e(r,{span:8},{default:o(()=>[n("div",q,[t[3]||(t[3]=n("div",{class:"label"},"代理帳號",-1)),e(_,{value:i.agentAccount,"onUpdate:value":t[1]||(t[1]=c=>i.agentAccount=c),placeholder:"請輸入代理帳號",clearable:""},null,8,["value"])])]),_:1}),e(r,{span:8},{default:o(()=>[n("div",H,[e(h(f),{type:"primary",onClick:b},{default:o(()=>t[4]||(t[4]=[y("搜尋")])),_:1}),e(h(f),{onClick:N},{default:o(()=>t[5]||(t[5]=[y("清除查詢")])),_:1})])]),_:1})]),_:1})]),_:1}),e(p,{class:"data-table-area"},{default:o(()=>[n("div",J,[e(h(f),{class:"back-button",onClick:T},{icon:o(()=>[e(w,null,{default:o(()=>[e(h(G))]),_:1})]),default:o(()=>[t[6]||(t[6]=y(" 回到上一層 "))]),_:1})]),e(k,{columns:B,data:M.value,pagination:l,bordered:!1,loading:u.value,size:"small","row-class-name":D,stripe:""},null,8,["data","pagination","loading"])]),_:1})])}}}),Z=$(K,[["__scopeId","data-v-deb474c6"]]);export{Z as default};
